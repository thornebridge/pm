@import 'tailwindcss';

@custom-variant dark (&:is(.dark *));
@custom-variant light (&:is(.light *));

@theme {
	/* Brand (forest green) */
	--color-brand-50: #f0f7f3;
	--color-brand-100: #dce8e1;
	--color-brand-200: #b5d1c0;
	--color-brand-300: #8cb99e;
	--color-brand-400: #5e9a78;
	--color-brand-500: #3d7a5c;
	--color-brand-600: #2d4f3e;
	--color-brand-700: #243f32;
	--color-brand-800: #1b3027;
	--color-brand-900: #12201a;

	/* Surface (warm neutrals) */
	--color-surface-50: #faf9f7;
	--color-surface-100: #f3f1ed;
	--color-surface-200: #ebe8e3;
	--color-surface-300: #ddd9d2;
	--color-surface-400: #c4bfb6;
	--color-surface-500: #a8a198;
	--color-surface-600: #8a847b;
	--color-surface-700: #6b665e;
	--color-surface-800: #49453f;
	--color-surface-900: #1c1917;

	--font-sans: 'Inter', ui-sans-serif, system-ui, sans-serif;
}

html {
	background-color: var(--color-surface-900);
	color: var(--color-surface-100);
	color-scheme: dark;
	scrollbar-width: thin;
	scrollbar-color: var(--color-surface-700) transparent;
}

html.light {
	background-color: var(--color-surface-50);
	color: var(--color-surface-900);
	color-scheme: light;
	scrollbar-color: var(--color-surface-300) transparent;
}

body {
	font-family: var(--font-sans);
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

::-webkit-scrollbar-track {
	background: transparent;
}

::-webkit-scrollbar-thumb {
	background-color: var(--color-surface-700);
	border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
	background-color: var(--color-surface-600);
}

/* ─── Theme Style Options ─────────────────────────────────────────────────── */

/* Background textures — applied to main content area */
.pm-texture-grid {
	background-image:
		linear-gradient(var(--color-surface-800) 1px, transparent 1px),
		linear-gradient(90deg, var(--color-surface-800) 1px, transparent 1px);
	background-size: 40px 40px;
	background-position: -1px -1px;
}

.light .pm-texture-grid {
	background-image:
		linear-gradient(var(--color-surface-200) 1px, transparent 1px),
		linear-gradient(90deg, var(--color-surface-200) 1px, transparent 1px);
}

.pm-texture-dots {
	background-image: radial-gradient(circle, var(--color-surface-700) 1px, transparent 1px);
	background-size: 24px 24px;
}

.light .pm-texture-dots {
	background-image: radial-gradient(circle, var(--color-surface-300) 1px, transparent 1px);
}

/* Card style — square corners */
html[data-card-style='square'] .pm-card {
	border-radius: 0;
}

/* Depth styles */
html[data-depth-style='flat'] .pm-card {
	box-shadow: none;
}

html[data-depth-style='shadow'] .pm-card {
	box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
}

html[data-depth-style='glass'] .pm-card {
	background: color-mix(in srgb, var(--color-surface-50) 70%, transparent);
	backdrop-filter: blur(12px);
	-webkit-backdrop-filter: blur(12px);
	border-color: color-mix(in srgb, var(--color-surface-300) 50%, transparent);
}

.dark html[data-depth-style='glass'] .pm-card,
html.dark[data-depth-style='glass'] .pm-card {
	background: color-mix(in srgb, var(--color-surface-900) 60%, transparent);
	border-color: color-mix(in srgb, var(--color-surface-700) 40%, transparent);
}

/* Gradient overlays */
html[data-gradient='subtle'] .pm-gradient::before {
	content: '';
	position: absolute;
	inset: 0;
	background: linear-gradient(135deg, var(--color-brand-500) 0%, transparent 60%);
	opacity: 0.04;
	pointer-events: none;
	border-radius: inherit;
}

html[data-gradient='vivid'] .pm-gradient::before {
	content: '';
	position: absolute;
	inset: 0;
	background: linear-gradient(135deg, var(--color-brand-400) 0%, var(--color-brand-700) 100%);
	opacity: 0.07;
	pointer-events: none;
	border-radius: inherit;
}

/* ─── Semantic color defaults (fallbacks when no theme overrides) ─── */
:root {
	--color-accent: #8b5cf6;
	--color-success: #22c55e;
	--color-warning: #f59e0b;
	--color-error: #ef4444;
	--color-info: #3b82f6;
	--font-heading: var(--font-sans);
	--font-mono: ui-monospace, SFMono-Regular, monospace;
	--pm-r-sm: 4px; --pm-r-md: 6px; --pm-r-lg: 8px; --pm-r-xl: 12px; --pm-r-full: 9999px;
	--pm-d-gap: 0.5rem; --pm-d-pad-x: 0.75rem; --pm-d-pad-y: 0.5rem; --pm-d-pad: 0.75rem;
	--pm-bw: 1px;
	--pm-anim-duration: 150ms; --pm-anim-transition: 150ms ease;
}

/* ─── Radius Scale ─── */
html[data-radius='none'] { --pm-r-sm: 0; --pm-r-md: 0; --pm-r-lg: 0; --pm-r-xl: 0; --pm-r-full: 0; }
html[data-radius='small'] { --pm-r-sm: 2px; --pm-r-md: 4px; --pm-r-lg: 6px; --pm-r-xl: 8px; --pm-r-full: 9999px; }
html[data-radius='medium'] { --pm-r-sm: 4px; --pm-r-md: 6px; --pm-r-lg: 8px; --pm-r-xl: 12px; --pm-r-full: 9999px; }
html[data-radius='large'] { --pm-r-sm: 6px; --pm-r-md: 10px; --pm-r-lg: 14px; --pm-r-xl: 20px; --pm-r-full: 9999px; }
html[data-radius='pill'] { --pm-r-sm: 9999px; --pm-r-md: 9999px; --pm-r-lg: 9999px; --pm-r-xl: 9999px; --pm-r-full: 9999px; }

/* ─── Density ─── */
html[data-density='compact'] { --pm-d-gap: 0.25rem; --pm-d-pad-x: 0.375rem; --pm-d-pad-y: 0.25rem; --pm-d-pad: 0.5rem; }
html[data-density='comfortable'] { --pm-d-gap: 0.5rem; --pm-d-pad-x: 0.75rem; --pm-d-pad-y: 0.5rem; --pm-d-pad: 0.75rem; }
html[data-density='spacious'] { --pm-d-gap: 0.75rem; --pm-d-pad-x: 1rem; --pm-d-pad-y: 0.75rem; --pm-d-pad: 1rem; }

/* ─── Border Width ─── */
html[data-border-width='none'] { --pm-bw: 0px; }
html[data-border-width='thin'] { --pm-bw: 0.5px; }
html[data-border-width='default'] { --pm-bw: 1px; }
html[data-border-width='thick'] { --pm-bw: 2px; }

/* ─── Sidebar Style ─── */
html[data-sidebar-style='transparent'] .pm-sidebar { background: transparent; border-right-color: transparent; }
html[data-sidebar-style='accent'] .pm-sidebar { background-color: var(--color-brand-900); border-right-color: var(--color-brand-800); }
html[data-sidebar-style='accent'] .pm-sidebar .pm-sidebar-active { background-color: var(--color-brand-700); }

/* ─── Animation ─── */
html[data-animation='none'] { --pm-anim-duration: 0ms; --pm-anim-transition: none; }
html[data-animation='subtle'] { --pm-anim-duration: 150ms; --pm-anim-transition: 150ms ease; }
html[data-animation='smooth'] { --pm-anim-duration: 300ms; --pm-anim-transition: 300ms cubic-bezier(0.4, 0, 0.2, 1); }
